
<div class="panel-heading" style="font-family:Oswald , serif;"  ng-include="'js/system/header.html'"></div>
<div class="panel-body"  ng-cloak>
    <div class="row">
        <div class="col-xs-12" ng-show="!status">

            <div class="tab-content">
                <div role="tabpanel" id="pane0" class="tab-pane fade active in">
                    <br>
                    <div class="row">
                         <div class="bajar">
                            <div class="col-lg-6 col-md-3 col-sm-12">
                                <br><br><br><br><br>
                                <p>Mostrando una consulta de {{registers}} registros.</p>
                                <p ng-show="orderParams == ''">Contenido no ordenado</p>
                                <p ng-show="orderParams != ''"><small>Contenido ordenado por {{order}} ({{ordervalue}}) <a href="#/{{ob}}/plist/{{numpage}}/{{rpp}}{{paramsWithoutOrder.replace('&', '?')}}" id="linkQuitarOrden"></a></small></p>
                                <p ng-show="filterParams == ''">Contenido no filtrado</p>
                                <p ng-show="filterParams != ''"><small>Contenido filtrado ({{filter}} {{filteroperator}} {{filtervalue}}) <a href="#/{{ob}}/plist/{{numpage}}/{{rpp}}{{paramsWithoutFilter.replace('&', '?')}}" id="linkQuitarFiltro"></a></small></p>
                            </div>
                        </div>
                       


                        <div role="tabpanel" id="pane1" class="tab-pane fade">

                            <div class="campo">
                                <br><br><br><br><br><br>
                                Campos visibles:
                                <br><br><br>
                                <input type="checkbox" ng-model="visibles.id" ng-checked="visibles.id">Identificador
                                <input type="checkbox" ng-model="visibles.nombre" ng-checked="visibles.nombre">Nombre
                                <input type="checkbox" ng-model="visibles.direccion" ng-checked="visibles.apellido1">Dirección
                                <input type="checkbox" ng-model="visibles.cp" ng-checked="visibles.apellido2">CP
                                <input type="checkbox" ng-model="visibles.telefono" ng-checked="visibles.fnac">Teléfono
                                <input type="checkbox" ng-model="visibles.id_empresa" ng-checked="visibles.id_empresa">Empresa
                                <input type="checkbox" ng-model="visibles.id_municipio" ng-checked="visibles.id_municipio">Municipio
                                <input type="checkbox" ng-model="visibles.id_sector" ng-checked="visibles.id_sector">Sector

                            </div>
                        </div>



                        <div role="tabpanel" id="pane2" class="tab-pane fade">
                            <div class="row">
                                <div class="col-md-9">

                                    <form class="navbar-form navbar-right" role="form" action="Controller" method="post" id="filterForm">
                                        <select id="selectFilter" class="form-control" name="filter" style="width: 120px" ng-model="filter">
                                            <option style="display:none">selecciona un campo</option>
                                            <option value="id">Identificador</option>
                                            <option value="nombre">Nombre</option>
                                            <option value="direccion">Dirección</option>
                                            <option value="cp">CP</option>
                                            <option value="telefono">Teléfono</option>
                                            <option value="id_empresa">Empresa</option> 
                                            <option value="id_municipio">Municipio</option>
                                            <option value="id_sector">Sector</option>
                                        </select>

                                        <select id="selectFilteroperator" class="form-control" name="filteroperator" width="80" style="width: 200px" ng-model="filteroperator">
                                            <option style="display:none">selecciona una operacion</option>
                                            <option value="like" ng-selected="true">contiene</option>
                                            <option value="notlike">no contiene</option>
                                            <option value="equals">es igual a</option>
                                            <option value="notequalto">es distinto de</option>
                                            <option value="less">es menor que</option>
                                            <option value="lessorequal">es menor o igual que</option>
                                            <option value="greater">es mayor que</option>
                                            <option value="greaterorequal">es mayor o igual que</option>
                                        </select>


                                        <input id="inputFiltervalue" class="form-control" name="filtervalue" type="text" size="20" maxlength="20" value="" width="30" style="width: 90px" placeholder="Valor" ng-model="filtervalue">
                                        <input type="button" class="btn" id="btnFiltrar" name="btnFiltrar" value="Filtrar" ng-click="dofilter()" />

                                </div>
                            </div>
                        </div>

                        <div role="tabpanel" id="pane3" class="tab-pane fade">
                            <div class="row">
                                <div class="col-md-9">
                                    <div class="filtrocliente">
                                        <form class="navbar-form navbar-right" role="form" action="Controller" method="post" id="afiliadoForm"> 
                                            <p><input id="inputFiltervalueClient" class="form-control" name="filtervalue" type="text" size="20" maxlength="20" value="" width="30" style="width: 120px" placeholder="Valor" ng-model="clientFilterText"></p>
                                            <!-- <input type="submit" class="btn" id="btnFiltrarClient" name="btnFiltrarClient" value="Filtrar" ng-click="dofilter()">-->
                                            </div>
                                            </div>
                                            </div>
                                            </div>   



                                            <div role="tabpanel" id="pane4" class="tab-pane fade">
                                                <div class="row">
                                                    <div class="col-md-12 text-center">
                                                        <p><br>

                                                            <a class="btn btn-primary" href="#/{{ob}}/new">Crear una nueva {{ob}}</a>

                                                    </div>
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="datos" ng-show="!status">
                            <table class="">

                                <thead> 
                                <div class="menu"> 
                                    <div role="tabpanel">

                                        <ul class="nav nav-pills nav-stacked" role="tablist">
                                            <li role="presentation" class="active"><a data-target="#pane0" aria-controls="pane0" role="tab" data-toggle="tab" aria-expanded="false">Consulta</a></li>              
                                            <br><li role="presentation"><a data-target="#pane1" aria-controls="pane1" role="tab" data-toggle="tab" aria-expanded="true">Campos visibles</a></li>
                                            <br><li role="presentation"><a data-target="#pane2" aria-controls="pane2" role="tab" data-toggle="tab">Filtro de servidor</a></li>
                                            <br><li role="presentation"><a data-target="#pane3" aria-controls="pane3" role="tab" data-toggle="tab">Filtro de cliente</a></li>
                                            <br><li role="presentation"><a data-target="#pane4" aria-controls="pane4" role="tab" data-toggle="tab">Nuevo registro</a></li>
                                        </ul>

                                    </div>

                            </table>          

                            <table class="table table-responsive table-bordered table-hover table-striped table-condensed dataTable no-footer">


                                <th ng-show="visibles.id" class="text-right">
                                    Identificador
                                    <a ng-show="visibles.id" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=id&ordervalue=asc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-up"></i></a>
                                    <a ng-show="visibles.id" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=id&ordervalue=desc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-down"></i></a>
                                </th>

                                <th ng-show="visibles.nombre" class="text-right">
                                    Nombre
                                    <a ng-show="visibles.nombre" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=nombre&ordervalue=asc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-up"></i></a>
                                    <a ng-show="visibles.nombre" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=nombre&ordervalue=desc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-down"></i></a>
                                </th>

                                <th ng-show="visibles.direccion" class="text-right">
                                    Dirección
                                    <a ng-show="visibles.direccion" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=direccion&ordervalue=asc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-up"></i></a>
                                    <a ng-show="visibles.direccion" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=direccion&ordervalue=desc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-down"></i></a>
                                </th>
                                <th ng-show="visibles.cp" class="text-right">
                                    Cp
                                    <a ng-show="visibles.cp" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=cp&ordervalue=asc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-up"></i></a>
                                    <a ng-show="visibles.cp" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=cp&ordervalue=desc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-down"></i></a>
                                </th>

                                <th ng-show="visibles.telefono">
                                    Teléfono
                                    <a ng-show="visibles.telefono" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=telefono&ordervalue=asc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-up"></i></a>
                                    <a ng-show="visibles.telefono" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=telefono&ordervalue=desc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-down"></i></a>
                                </th>
                                <th ng-show="visibles.id_empresa" class="text-right">
                                    Empresa
                                    <a ng-show="visibles.id_empresa" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=id_empresa&ordervalue=asc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-up"></i></a>
                                    <a ng-show="visibles.id_empresa" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=id_empresa&ordervalue=desc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-down"></i></a>
                                </th>
                                <th ng-show="visibles.id_municipio" class="text-right">
                                    Municipio
                                    <a ng-show="visibles.id_municipio" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=id_municipio&ordervalue=asc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-up"></i></a>
                                    <a ng-show="visibles.id_municipio" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=id_municipio&ordervalue=desc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-down"></i></a>
                                </th>
                                <th ng-show="visibles.id_sector" class="text-right">
                                    Sector
                                    <a ng-show="visibles.id_sector" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=id_sector&ordervalue=asc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-up"></i></a>
                                    <a ng-show="visibles.id_sector" href="#/{{ob}}/plist/{{numpage}}/{{rpp}}?order=id_sector&ordervalue=desc{{paramsWithoutOrder}}"><i class="glyphicon glyphicon-arrow-down"></i></a>
                                </th>

                                <th>Mantenimiento</th>


                                <tr ng-repeat="obj in page|filter:clientFilterText">
                                    <td ng-show="visibles.id"  class="text-right">{{obj.id}}</td>
                                    <td ng-show="visibles.nombre">{{obj.nombre}}</td>
                                    <td ng-show="visibles.direccion">{{obj.direccion}}</td>
                                    <td ng-show="visibles.cp">{{obj.cp}}</td>
                                    <td ng-show="visibles.telefono">{{obj.telefono}}</td>
                                    <td ng-show="visibles.id_empresa">{{obj.obj_empresa.nombre}}</td>
                                    <td ng-show="visibles.id_municipio">{{obj.obj_municipio.nombre}}</td>
                                    <td ng-show="visibles.id_sector">{{obj.obj_sector.nombre}}</td>


                                    <td>
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                Acciones<span class="caret"></span>
                                            </button>

                                            <ul class="dropdown-menu">

                                                <li><a class="btn btn-default action02" href="#/centro/view/{{obj.id}}"><i class="fa fa-eye fa-2g"></i> Ver</a></li>
                                                <li><a class="btn btn-default action03" href="#/centro/edit/{{obj.id}}"><i class="fa fa-pencil fa-2g"></i> Editar</a></li>
                                                <li><a class="btn btn-default action04" href="#/centro/remove/{{obj.id}}"><i class="fa fa-times fa-2g"></i> Borrar</a></li>
                                            </ul>
                                        </div>

                                </tr>
                                <table>
                                    </div>   

                                    <div class="separation_pag"> 
                                        <div class="col-lg-6  col-md-6 col-sm-3 text-center">
                                            Paginación: <br>
                                            <ul class="pagination">
                                                <li><a class="pagination_link" ng-show="numpage > 1" ng-attr-id="{{numpage - 1}}" ng-attr-href="{{'#/' + ob + '/' + op + '/' + (numpage - 1) + '/' + rpp + params}}">prev</a></li>
                                                <li><a class="pagination_link" id="1" ng-attr-href="{{'#/' + ob + '/' + op + '/1/' + rpp + params}}" ng-show="numpage > neighbourhood + 1">1</a></li>

                                                <li class="pagination_link disabled"><a href="#" ng-show="numpage > neighbourhood - -2">ooo</a></li>

                                                <li ng-repeat="i in getRangeArray(evaluateMax(1, numpage - neighbourhood), (numpage - 1))">
                                                    <a class="pagination_link" ng-attr-id="{{i}}" ng-attr-href="{{'#/' + ob + '/' + op + '/' + i + '/' + rpp + params}}">{{i}}</a>
                                                </li>

                                                <li class="active" ng-show="(numpage >= 1) && (numpage <= pages)">
                                                    <a class="pagination_link" ng-attr-id="{{numpage}}" ng-attr-href="{{'#/' + ob + '/' + op + '/' + numpage + '/' + rpp + params}}">{{numpage}}</a>
                                                </li>

                                                <li ng-repeat="j in getRangeArray(numpage - -1, evaluateMin(numpage - -neighbourhood, pages))">
                                                    <a class="pagination_link" ng-attr-id="{{j}}" ng-attr-href="{{'#/' + ob + '/' + op + '/' + j + '/' + rpp + params}}">{{j}}</a>
                                                </li>

                                                <li class="pagination_link disabled"><a href="#" ng-show="numpage < (pages - (neighbourhood - -1))">ooo</a></li>

                                                <li><a class="pagination_link" ng-show="numpage < pages - neighbourhood" ng-attr-id="{{pages}}" ng-attr-href="{{'#/' + ob + '/' + op + '/' + pages + '/' + rpp + params}}">{{pages}}</a></li>
                                                <li><a class="pagination_link" ng-show="numpage < pages" ng-attr-id="{{numpage - -1}}" ng-attr-href="{{'#/' + ob + '/' + op + '/' + (numpage - -1) + '/' + rpp + params}}">next</a></li>

                                            </ul>
                                        </div>
                                        <div class="col-lg-3  col-md-3 col-sm-1 text-center">
                                            Registros por página: <br>
                                            <ul class="pagination">
                                                <li class="active" ng-show="rpp == 10"><a class="rpp_link" id="10" href="{{'#/' + ob + '/' + op + '/' + numpage + '/10' + params}}">10</a></li>
                                                <li ng-show="rpp != 10"><a class="rpp_link" id="10" href="{{'#/' + ob + '/' + op + '/' + numpage + '/10' + params}}">10</a></li>            
                                                <li class="active" ng-show="rpp == 20"><a class="rpp_link" id="10" href="{{'#/' + ob + '/' + op + '/' + numpage + '/20' + params}}">20</a></li>
                                                <li ng-show="rpp != 20"><a class="rpp_link" id="10" href="{{'#/' + ob + '/' + op + '/' + numpage + '/20' + params}}">20</a></li>
                                                <li class="active" ng-show="rpp == 30"><a class="rpp_link" id="10" href="{{'#/' + ob + '/' + op + '/' + numpage + '/30' + params}}">30</a></li>
                                                <li ng-show="rpp != 30"><a class="rpp_link" id="10" href="{{'#/' + ob + '/' + op + '/' + numpage + '/30' + params}}">30</a></li>
                                            </ul>


                                        </div>

                                    </div>

                                    </div>

                                    </div>












